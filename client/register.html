<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="Cache-Control" content="no-cache">
	<link rel="stylesheet" type="text/css" href="css/form.css">
    <title>Фотопробег.рф - Конкурс фотографий</title>
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">

    class Register extends React.Component {
        onBtnClickHandler = (e) => {
            e.preventDefault()
            url = '/api/registration'
            data = {login: "", password: ""}
            try {
                const response = fetch(url, {
                    method: 'POST',
                    body: JSON.stringify(data),
                    headers: {
                        'Content-Type': 'application/json' 
                    }
                })
                const json = response.json();
                console.log('успех');
            }
            catch (error) {
                console.error('Error!:', error);
            }
        }

        render() {
            return (
                <form className='reg'>
                <input
                type='text'
                className='login'
                placeholder='Ваш логин'
                />
                <input
                className='password'
                placeholder='Ваш пароль'
                ></input>
                <button
                className='reg__btn'
                onClick={this.onBtnClickHandler}>
                Зарегистрироваться
                </button>
                </form>
            )
        }
    }

    ReactDOM.render(
        <Register />,
    document.getElementById('root')
    );
    </script>
</body>
</html>
